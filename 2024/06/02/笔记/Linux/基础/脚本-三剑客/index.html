
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>脚本-三剑客 | MaYouXiu</title>
    <meta name="author" content="John Doe" />
    <meta name="description" content="别问，问就是我，马优秀！！！" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="MaYouXiu" type="application/atom+xml">
</head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>MAYOUXIU</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;MAYOUXIU</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading">
            <div class="article">
    <div>
        <h1>脚本-三剑客</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/6/2
        </span>
        
        <span class="category">
            <a href="/categories/Linux-%E5%9F%BA%E7%A1%80/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                Linux - 基础
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Linux/" style="color: #00bcd4">
                    Linux
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E5%9F%BA%E7%A1%80/" style="color: #ff7d73">
                    基础
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h1><h2 id="创建脚本"><a href="#创建脚本" class="headerlink" title="创建脚本"></a>创建脚本</h2><p>vi&#x2F;vim等⽂本编辑器，创建打开⼀个⽂件。这个⽂件的命名没有强制要求，但是建议 以.sh结尾，⽤来提⽰⼀下这是个脚本⽂件。</p>
<p>在⽂件内部需要以#!&#x2F;bin&#x2F;bash，#！⽤来指定脚本的解释器的作⽤，也可以调⽤shell的 内置命令，这样的话才能保证它是⼀个脚本，⽽不是⼀堆命令的集合。</p>
<p>shell脚本⽂件#后⾯的内容不会被解释器解析，会以注释的⽅式⽤作提⽰作⽤</p>
<p>#一个简单的脚本</p>
<p><img src="/../../../../images/clip_image002-17172991055811.jpg" alt="img"></p>
<h2 id="脚本的执行方式"><a href="#脚本的执行方式" class="headerlink" title="脚本的执行方式"></a>脚本的执行方式</h2><p>bash 或者 sh + 脚本的方式执行，把脚本当作参数,交给bash或者解释器执行</p>
<p><img src="/../../../../images/clip_image003.png" alt="img"></p>
<p>. 或者 source +脚本的方式执行，把脚本交给.</p>
<p><img src="/../../../../images/clip_image004-17172991055812.png" alt="img"></p>
<p>. hello.sh没有x权限也可以。 . 代表当前shell终端，它只把程序交给 当前shell进程，shell进程创建一个子进程，然后把test.sh作为参数传给进程里面去执行</p>
<p>脚本赋予可执⾏权限后再去执⾏(推荐使⽤这种⽅式，运⾏shell脚本)</p>
<p><img src="/../../../../images/clip_image006-17172991055813.jpg" alt="img"></p>
<h2 id="shell脚本中的变量"><a href="#shell脚本中的变量" class="headerlink" title="shell脚本中的变量"></a>shell脚本中的变量</h2><h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><p>变量名的规则：只能包含数字，字⺟、_，并且不能以数字开头</p>
<p>变量的赋值通过变量名&#x3D;变量值的⽅式进⾏操作，&#x3D;两边不能有空格的存在，否则他会把值或者变量名识别成为命令， 导致出现command not found错误。$+变量名可以解析读取变量的值。</p>
<p><img src="/../../../../images/clip_image008-17172991055824.jpg" alt="img"></p>
<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><p><img src="/../../../../images/clip_image010-17172991055825.jpg" alt="img"></p>
<p>$* 和 $@区别</p>
<p>$*， 它会把所有的命令行参数当作一个整体对待，无论参数中是否有空格或引号，都会被连接成一个字符串</p>
<p>$@，它会把每个命令行参数都当作独立的单词，保留空格和引号</p>
<p>运行脚本时输入了 .&#x2F;script.sh arg1 “arg 2” arg3</p>
<p>使用 $* 会得到一个字符串：”arg1 arg 2 arg3”</p>
<p>使用 $@ 会得到三个独立的单词：”arg1”，”arg 2”，和 “arg3”。</p>
<p><img src="/../../../../images/clip_image012-17172991055826.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image014-17172991055827.jpg" alt="img"></p>
<p>$?存在两种情况，0(代表前面的命令执行成功了)或者非0（代表前面的命令执行失败）</p>
<p><img src="/../../../../images/clip_image016-17172991055828.jpg" alt="img"></p>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>用户的某种特殊属性，它的有效范围是全局范围有效，环境变量⼀般使⽤⼤写字⺟命名，可以使⽤env或者printenv命令读取出所有的环境变量</p>
<p><img src="/../../../../images/clip_image018-17172991055829.jpg" alt="img"></p>
<h3 id="系统环境变量的配置文件"><a href="#系统环境变量的配置文件" class="headerlink" title="系统环境变量的配置文件"></a>系统环境变量的配置文件</h3><p><img src="/../../../../images/clip_image020-171729910558210.jpg" alt="img"></p>
<h3 id="export将普通变量提升为环境变量"><a href="#export将普通变量提升为环境变量" class="headerlink" title="export将普通变量提升为环境变量"></a>export将普通变量提升为环境变量</h3><p><img src="/../../../../images/clip_image022-171729910558211.jpg" alt="img"></p>
<h3 id="shell脚本⾥⾯的⼀些特殊的符号"><a href="#shell脚本⾥⾯的⼀些特殊的符号" class="headerlink" title="shell脚本⾥⾯的⼀些特殊的符号"></a>shell脚本⾥⾯的⼀些特殊的符号</h3><p>‘’(单引号)、””(双引号)、&#96;&#96;(反引号)、(反斜杠)、|(管道)、1&gt;&gt;、2&gt;&gt;、1&gt;、2&gt;</p>
<p><img src="/../../../../images/clip_image024-171729910558212.jpg" alt="img"></p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>test命令或者[ ]，可以⽤来进⾏条件判断，[]这个需要在中括号和条件表达式之间都存在⼀个空格</p>
<p>⽂档类型的测试</p>
<p><img src="/../../../../images/clip_image026-171729910558213.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image028-171729910558214.jpg" alt="img"></p>
<h3 id="测试⽂件的权限"><a href="#测试⽂件的权限" class="headerlink" title="测试⽂件的权限"></a>测试⽂件的权限</h3><p><img src="/../../../../images/clip_image030-171729910558215.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image031-171729910558216.png" alt="img"></p>
<h3 id="测试字符串-随便看看"><a href="#测试字符串-随便看看" class="headerlink" title="测试字符串(随便看看)"></a>测试字符串(随便看看)</h3><p><img src="/../../../../images/clip_image033-171729910558217.jpg" alt="img"></p>
<p>使⽤test命令对字符串的操作只有判断测试的字符串是否为空以及字符串是否是某个值。 对于n 选项来说，都是判断字符串是否为空，如果字符串为空，那么test命令就会返回逻辑假的 值。 如果字符串不为空，就返回逻辑真的值。⽽对于选项-z来说，返回的结果和-n选项正好相 反。 对于相同符号“&#x3D;”和不相同符号“！&#x3D;”来说，只要是符号左右两边的字符串相同（或不 同），那么就返回逻辑真（假）的结果。</p>
<h3 id="测试数值"><a href="#测试数值" class="headerlink" title="测试数值"></a>测试数值</h3><p><img src="/../../../../images/clip_image035-171729910558218.jpg" alt="img"><img src="/../../../../images/clip_image037-171729910558219.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image039-171729910558220.jpg" alt="img"></p>
<h3 id="复合测试条件"><a href="#复合测试条件" class="headerlink" title="复合测试条件"></a>复合测试条件</h3><p><img src="/../../../../images/clip_image041-171729910558221.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image043-171729910558222.jpg" alt="img"></p>
<h3 id="单分支-if-then结构"><a href="#单分支-if-then结构" class="headerlink" title="单分支(if-then结构)"></a>单分支(if-then结构)</h3><p>#结构：&#x2F;&#x2F;这个结构要完整，有开始有结束，否则会报语法错误</p>
<p><img src="/../../../../images/clip_image044.png" alt="img"></p>
<h3 id="多分⽀（if-then-else）"><a href="#多分⽀（if-then-else）" class="headerlink" title="多分⽀（if-then-else）"></a>多分⽀（if-then-else）</h3><p><img src="/../../../../images/clip_image046-171729910558223.jpg" alt="img"></p>
<h3 id="case结构基础（选择菜单）"><a href="#case结构基础（选择菜单）" class="headerlink" title="case结构基础（选择菜单）"></a>case结构基础（选择菜单）</h3><p><img src="/../../../../images/clip_image048.jpg" alt="img"></p>
<h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><p><img src="/../../../../images/clip_image049.png" alt="img"></p>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p><img src="/../../../../images/clip_image051-171729910558224.jpg" alt="img"></p>
<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><p>跳出符合条件的循环以及后续的循环</p>
<p><img src="/../../../../images/clip_image053-171729910558225.jpg" alt="img"></p>
<h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><p>符合条件的退出，继续执⾏剩下的循环</p>
<p><img src="/../../../../images/clip_image054.png" alt="img"></p>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="正则表达式的含义："><a href="#正则表达式的含义：" class="headerlink" title="正则表达式的含义："></a>正则表达式的含义：</h2><p>正则表达式（Regular Expression）就是使⽤简单的字符按照预先设定的规则来完成复杂的功能。</p>
<p>正则表达式⼀般是由普通字符以及特殊字符组成的字符串。</p>
<p>正则表达式的组成可以是单个的字符、字符集合、字符范围、字符 间的选择 或者是这些字符之间的任意组合。</p>
<h2 id="正则表达式分类："><a href="#正则表达式分类：" class="headerlink" title="正则表达式分类："></a>正则表达式分类：</h2><p>posix⻛格的正则表达式  pcre⻛格的正则表达式</p>
<p>基本正则表达式 扩展正则表达式</p>
<p>注：不同类型的正则表达式，能够兼容的⽂本处理⼯具也会有差异，正则表达式，由普通的⽂ 本字符（a-zA-Z0-9）和具有特殊功能的字符（元字符）</p>
<h2 id="部分元字符的功能"><a href="#部分元字符的功能" class="headerlink" title="部分元字符的功能"></a>部分元字符的功能</h2><p>点（.），含义是表示有且只有一个任意字符</p>
<p><img src="/../../../../images/clip_image056.jpg" alt="img"></p>
<p>#[ ] 含义是：一个中括号只表示一个字符，中括号里面的内容表示其中一个字符</p>
<p><img src="/../../../../images/clip_image058.jpg" alt="img"></p>
<p>^含义是： 排除^后面的字符，就符合匹配规则</p>
<p><img src="/../../../../images/clip_image059.png" alt="img"></p>
<h2 id="次数匹配"><a href="#次数匹配" class="headerlink" title="次数匹配"></a>次数匹配</h2><p>?表示？号前面的字符只有一个或零个</p>
<p><img src="/../../../../images/clip_image061-171729910558226.jpg" alt="img"></p>
<p>*表示匹配它前面的字符0次或者若干次</p>
<p><img src="/../../../../images/clip_image063-171729910558227.jpg" alt="img"></p>
<p>+含义是匹配前面的字符至少1次</p>
<p><img src="/../../../../images/clip_image064.png" alt="img"></p>
<p>{ } 表示前面的字符重复的次数</p>
<p><img src="/../../../../images/clip_image066.jpg" alt="img"></p>
<h2 id="位置锚定"><a href="#位置锚定" class="headerlink" title="位置锚定"></a>位置锚定</h2><p>^表示以后面的字符开头</p>
<p><img src="/../../../../images/clip_image067.png" alt="img"></p>
<p>$表示结尾</p>
<p><img src="/../../../../images/clip_image068-171729910558228.png" alt="img"></p>
<p>&lt; 或 \b 匹配一个单词的首部</p>
<p><img src="/../../../../images/clip_image069.png" alt="img"></p>
<p>&gt; 或 \b 定位的是一个单词的尾部</p>
<p><img src="/../../../../images/clip_image070.png" alt="img"></p>
<p>匹配文件里面的空行</p>
<p><img src="/../../../../images/clip_image071.png" alt="img"></p>
<h2 id="分组（）"><a href="#分组（）" class="headerlink" title="分组（）"></a>分组（）</h2><p>会将括号内的部分作为⼀个整体进⾏匹配，⽽不是单个字符进⾏匹配</p>
<p><img src="/../../../../images/clip_image073.jpg" alt="img"></p>
<h2 id="分⽀-表⽰或的关系"><a href="#分⽀-表⽰或的关系" class="headerlink" title="分⽀ | 表⽰或的关系"></a>分⽀ | 表⽰或的关系</h2><p><img src="/../../../../images/clip_image075-171729910558329.jpg" alt="img"></p>
<h2 id="贪婪匹配和懒惰匹配"><a href="#贪婪匹配和懒惰匹配" class="headerlink" title="贪婪匹配和懒惰匹配"></a>贪婪匹配和懒惰匹配</h2><p>默认，正则表达式和扩展正则表达式，是贪婪的，最⻓匹配。 PERL正则表达式，可在量 词后⾯直接加上⼀个问号（?），实现懒惰匹配，最短匹配 （？实现懒惰匹配，只适合 PCRE，不适合POSIX标准正则表达式）</p>
<p>贪婪模式（尽可能多的匹配）</p>
<p><img src="/../../../../images/clip_image077-171729910558330.jpg" alt="img"></p>
<p>懒惰模式（尽可能少的匹 配）</p>
<p><img src="/../../../../images/clip_image078-171729910558332.png" alt="img"></p>
<h1 id="⽂本处理的⼀些常⽤⼯具"><a href="#⽂本处理的⼀些常⽤⼯具" class="headerlink" title="⽂本处理的⼀些常⽤⼯具"></a>⽂本处理的⼀些常⽤⼯具</h1><h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><p>⾏⽂本匹配⼯具，以⾏为单位，查找匹配的内容</p>
<p><img src="/../../../../images/clip_image080-171729910558331.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image082-171729910558333.jpg" alt="img"></p>
<p><img src="/../../../../images/clip_image084.jpg" alt="img"><img src="/../../../../images/clip_image086.jpg" alt="img"></p>
<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><p>可以查找和编辑⽂件的内容，它时按照流的⽅式，以⾏为单位进⾏匹配，取⼀⾏内容到sed缓 存⾥⾯，处理完毕后显⽰处理结果，并将下⼀⾏内容读取到缓存⾥⾯，以此⼀直到将整个⽂件 的所有⾏全部处理完毕，相⽐较vim这样的⼯具他的执⾏效率更⾼⼀些。</p>
<h3 id="处理流程："><a href="#处理流程：" class="headerlink" title="处理流程："></a>处理流程：</h3><p><img src="/../../../../images/clip_image088.jpg" alt="img"></p>
<p>它默认情况下不会直接修改原⽂件，修改的只是缓存⾥⾯的内容，要想直接修改原⽂件，需要 加选项-i</p>
<h3 id="sed常用的命令"><a href="#sed常用的命令" class="headerlink" title="sed常用的命令"></a>sed常用的命令</h3><p><img src="/../../../../images/clip_image090.jpg" alt="img"></p>
<h3 id="常用的选项"><a href="#常用的选项" class="headerlink" title="常用的选项"></a>常用的选项</h3><p><img src="/../../../../images/clip_image092.jpg" alt="img"></p>
<p>打印第二行，第三行</p>
<p><img src="/../../../../images/clip_image094.jpg" alt="img"></p>
<p>#如果不想让他显示未被匹配的内容可以使用-n选项</p>
<p><img src="/../../../../images/clip_image095.png" alt="img"></p>
<p>#打印This 开头的行</p>
<p><img src="/../../../../images/clip_image096.png" alt="img"></p>
<p>##打印除前四行以外的其他行，不知道一共有多少行，可以用 ！反选</p>
<p><img src="/../../../../images/clip_image097.png" alt="img"></p>
<p>#打印第一行到匹配到 third 的行</p>
<p><img src="/../../../../images/clip_image099-171729910558334.jpg" alt="img"></p>
<p>#插入：a 命令和 i 命令 a 命令和 i 命令的使用方法相同，不同的是 a 命令是在行之后添加内容，i 命令是在行之前插入内容。</p>
<p>#添加add one 到第一行下面、#添加add two到第一行的上面</p>
<p><img src="/../../../../images/clip_image101.jpg" alt="img"></p>
<p>#在第一行之前加 start，在最后一行之后加 end，对单个文件进行多个操作可以用 -e</p>
<p><img src="/../../../../images/clip_image103-171729910558335.jpg" alt="img"></p>
<p>#删除二到三行</p>
<p><img src="/../../../../images/clip_image104.png" alt="img"></p>
<p>#将第一行替换为“hahahaha”</p>
<p><img src="/../../../../images/clip_image105.png" alt="img"></p>
<p>#将全文的 line 替换为 text，不加 g 只替换每一行的第一个 line</p>
<p><img src="/../../../../images/clip_image107-171729910558336.jpg" alt="img"></p>
<p>#修改源文件</p>
<p><img src="/../../../../images/clip_image108.png" alt="img"></p>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><p>是⼀种处理⽂本⽂件的语⾔，是⼀个强⼤的⽂本分析⼯具。 之所以叫 AWK 是因为其取了三位 创始⼈ Alfred Aho，Peter Weinberger, 和 Brian Kernighan 的 Family Name 的⾸字符 linux 中有三剑客之称： 三剑客之⾸就是 AWK。</p>
<h3 id="awk⼯具⼯作的过程"><a href="#awk⼯具⼯作的过程" class="headerlink" title="awk⼯具⼯作的过程"></a>awk⼯具⼯作的过程</h3><p>类似于sed⼯具，都是在⽂件⾥⾯取⼀⾏处理⼀⾏，⼀直到所有的内容处理完毕。</p>
<p>grep,sed和awk都是读一行处理一行，直到处理完成。 接收一行作为输入 把刚刚读入进来得到文本进行分解 使用处理规则处理文本 输入一行，赋值给$0，直至处理完成 把处理完成之后的所有数据交给END{}来再次处理</p>
<h3 id="awk⾃⼰的内置变量"><a href="#awk⾃⼰的内置变量" class="headerlink" title="awk⾃⼰的内置变量"></a>awk⾃⼰的内置变量</h3><p>#$0 表示当前行，相当于文档的所有内容, -F是分割，：作为分割符</p>
<p><img src="/../../../../images/clip_image110.jpg" alt="img"></p>
<p>#$1表示:分隔的第一个列</p>
<p><img src="/../../../../images/clip_image112.jpg" alt="img"></p>
<p>#$2表示:分隔的第二列，以此类推</p>
<p>#NF: 表示字段数，每一行的字段,例如 root：x：0 字段数为3</p>
<p>#NR 表示是行号</p>
<p>#FS : 指定文本内容分隔符(默认是空格) $NF最后一列，$1第一列类似于F选项</p>
<p><img src="/../../../../images/clip_image114.jpg" alt="img"></p>
<p>#OFS : 指定打印分隔符(默认空格)</p>
<p><img src="/../../../../images/clip_image116.jpg" alt="img"></p>
<h3 id="awk中的定位"><a href="#awk中的定位" class="headerlink" title="awk中的定位"></a>awk中的定位</h3><p>#(awk中匹配有root内容的行)</p>
<p><img src="/../../../../images/clip_image118.jpg" alt="img"></p>
<h3 id="⽐较表达式-匹配⽂本之内的内容"><a href="#⽐较表达式-匹配⽂本之内的内容" class="headerlink" title="⽐较表达式(匹配⽂本之内的内容)"></a>⽐较表达式(匹配⽂本之内的内容)</h3><p>&gt; : ⼩于 &lt; : ⼤于 &gt;&#x3D; : ⼤于等于 &lt;&#x3D; : ⼩于等于</p>
<p>~ : 正则匹配(包含)  !~ : 正则匹配(不包含)</p>
<p>#要求打印属组ID大于属主ID的行</p>
<p><img src="/../../../../images/clip_image120.jpg" alt="img"></p>
<p>#打印结尾包含bash</p>
<p><img src="/../../../../images/clip_image122.jpg" alt="img"></p>
<h3 id="条件表达式-⽂本之外的内容"><a href="#条件表达式-⽂本之外的内容" class="headerlink" title="条件表达式(⽂本之外的内容)"></a>条件表达式(⽂本之外的内容)</h3><p>&#x3D;&#x3D; &gt; &lt; &gt;&#x3D; &lt;&#x3D;</p>
<p>#要求打印第三行</p>
<p><img src="/../../../../images/clip_image123.png" alt="img"></p>
<h3 id="逻辑表达式"><a href="#逻辑表达式" class="headerlink" title="逻辑表达式"></a>逻辑表达式</h3><p>&amp;&amp; : 逻辑与  || : 逻辑或 ！ : 逻辑非</p>
<p>#找到$3+$4 &gt; 2000 且 $3*$4 &gt; 2000</p>
<p><img src="/../../../../images/clip_image125-171729910558337.jpg" alt="img"></p>
<p>#找到$3+$4 &gt; 2000 或者 $3*$4 &gt; 2000</p>
<p><img src="/../../../../images/clip_image127-171729910558338.jpg" alt="img"></p>
<p>#查找$3 + $4 不大于2000</p>
<p><img src="/../../../../images/clip_image129-171729910558339.jpg" alt="img"></p>
<h3 id="算数表达式"><a href="#算数表达式" class="headerlink" title="算数表达式"></a>算数表达式</h3><p>+ :加 - ：减 * ：乘 &#x2F; ：除 % ：求余</p>
<p>#for每一行打印10次</p>
<p><img src="/../../../../images/clip_image131.jpg" alt="img"></p>
<h2 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h2><p>分割列，同样是以⼀⾏为单位，⼀次处理⼀⾏，可以指定这个⾏当中的分隔符号，然后输 出⼀ ⾏当中可以被分成的列</p>
<p>#查看第一字段</p>
<p><img src="/../../../../images/clip_image132.png" alt="img"></p>
<p>#先抓取root行，然后通过cut，输出本行以冒号为分隔符的第一列</p>
<p><img src="/../../../../images/clip_image134.jpg" alt="img"></p>

    </div>

 
    
    
    <ul class="mdui-menu fixed-toc" id="toc">
        <li class="mdui-menu-item">
            <a href="/2024/06/02/%E7%AC%94%E8%AE%B0/Linux/%E5%9F%BA%E7%A1%80/%E8%84%9A%E6%9C%AC-%E4%B8%89%E5%89%91%E5%AE%A2/" id="toc-header" class="mdui-ripple">文章目录</a>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC"><span class="toc-text">脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%84%9A%E6%9C%AC"><span class="toc-text">创建脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-text">脚本的执行方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-text">shell脚本中的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-text">位置参数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">系统环境变量的配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export%E5%B0%86%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%E4%B8%BA%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">export将普通变量提升为环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E2%BE%A5%E2%BE%AF%E7%9A%84%E2%BC%80%E4%BA%9B%E7%89%B9%E6%AE%8A%E7%9A%84%E7%AC%A6%E5%8F%B7"><span class="toc-text">shell脚本⾥⾯的⼀些特殊的符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E2%BD%82%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-text">测试⽂件的权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%AD%97%E7%AC%A6%E4%B8%B2-%E9%9A%8F%E4%BE%BF%E7%9C%8B%E7%9C%8B"><span class="toc-text">测试字符串(随便看看)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E5%80%BC"><span class="toc-text">测试数值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E6%B5%8B%E8%AF%95%E6%9D%A1%E4%BB%B6"><span class="toc-text">复合测试条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%88%86%E6%94%AF-if-then%E7%BB%93%E6%9E%84"><span class="toc-text">单分支(if-then结构)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%88%86%E2%BD%80%EF%BC%88if-then-else%EF%BC%89"><span class="toc-text">多分⽀（if-then-else）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80%EF%BC%88%E9%80%89%E6%8B%A9%E8%8F%9C%E5%8D%95%EF%BC%89"><span class="toc-text">case结构基础（选择菜单）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="toc-text">for 循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-text">while循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break"><span class="toc-text">break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#continue"><span class="toc-text">continue</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%90%AB%E4%B9%89%EF%BC%9A"><span class="toc-text">正则表达式的含义：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-text">正则表达式分类：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%85%83%E5%AD%97%E7%AC%A6%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">部分元字符的功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AC%A1%E6%95%B0%E5%8C%B9%E9%85%8D"><span class="toc-text">次数匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E9%94%9A%E5%AE%9A"><span class="toc-text">位置锚定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%EF%BC%88%EF%BC%89"><span class="toc-text">分组（）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E2%BD%80-%E8%A1%A8%E2%BD%B0%E6%88%96%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">分⽀ | 表⽰或的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D%E5%92%8C%E6%87%92%E6%83%B0%E5%8C%B9%E9%85%8D"><span class="toc-text">贪婪匹配和懒惰匹配</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%BD%82%E6%9C%AC%E5%A4%84%E7%90%86%E7%9A%84%E2%BC%80%E4%BA%9B%E5%B8%B8%E2%BD%A4%E2%BC%AF%E5%85%B7"><span class="toc-text">⽂本处理的⼀些常⽤⼯具</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#grep"><span class="toc-text">grep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed"><span class="toc-text">sed</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%EF%BC%9A"><span class="toc-text">处理流程：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-text">sed常用的命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%80%89%E9%A1%B9"><span class="toc-text">常用的选项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk"><span class="toc-text">awk</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E2%BC%AF%E5%85%B7%E2%BC%AF%E4%BD%9C%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-text">awk⼯具⼯作的过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E2%BE%83%E2%BC%B0%E7%9A%84%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-text">awk⾃⼰的内置变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E4%B8%AD%E7%9A%84%E5%AE%9A%E4%BD%8D"><span class="toc-text">awk中的定位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%BD%90%E8%BE%83%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%8C%B9%E9%85%8D%E2%BD%82%E6%9C%AC%E4%B9%8B%E5%86%85%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">⽐较表达式(匹配⽂本之内的内容)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E2%BD%82%E6%9C%AC%E4%B9%8B%E5%A4%96%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">条件表达式(⽂本之外的内容)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">逻辑表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">算数表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cut"><span class="toc-text">cut</span></a></li></ol></li></ol>
        </li>
    </ul>
    

    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 MaYouXiu
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;John Doe
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
</html>
